<section class="bg-gray-400 min-h-dvh">
  <!-- nav -->
  <app-reg-nav></app-reg-nav>

  <!--register form -->
  <form
    [formGroup]="registerForm"
    (ngSubmit)="register()"
    class="  mx-20 bg-transparent px-10 py-2 mt-2 rounded-2xl hover:shadow-green-100 shadow-sm hover:shadow-xl transition-all hover:scale-90 hover:duration-1000 scale-75"
  >
    <div
      class="grid grid-cols-2 gap-x-8 max-sm:grid-cols-1 max-md:grid-cols-1 max"
    >
      <div class="form-image max-sm:hidden max-md:hidden">
        <img
          src="./assets/images/freshcart-1138350451.jpg"
          alt="register"
          class="w-full object-cover rounded-full h-full"
        />
      </div>
      <div class="inputs max-md:w-3/4 max-md:mx-auto">
        <h2 class="mainTXT text-lg mb-14 max-sm:text-6xl max-sm:mb-10">
          Register now
        </h2>
        <input
          type="text"
          id="name"
          formControlName="name"
          placeholder="Name.."
          class="text-gray-500 text-sm bg-gray-300 p-1 px-2 rounded-xl w-full focus:outline-none focus:shadow-md transition-all hover:shadow-green-200 hover:shadow-sm my-2 focus:placeholder:text-green-600 focus:bg-gray-200"
        />
        <div
          class="text-center"
          *ngIf="
            (registerForm.get('name')?.touched ||
              registerForm.get('name')?.value.length > 0) &&
            registerForm.get('name')?.errors
          "
        >
          <p
            class="alert bg-red-200 text-red-500 rounded-b-full w-1/2 mx-auto font-light text- text-sm"
            *ngIf="registerForm.get('name')?.getError('required')"
          >
            Your name's required
          </p>
          <p
            class="alert bg-red-200 text-red-500 rounded-b-full w-3/4 mx-auto font-light text- text-sm"
            *ngIf="registerForm.get('name')?.getError('minlength')"
          >
            Your name must be at least 3 characters
          </p>
          <p
            class="alert bg-red-200 text-red-500 rounded-b-full w-3/4 mx-auto font-light text- text-sm"
            *ngIf="registerForm.get('name')?.getError('maxlength')"
          >
            Your name must be at most 15 characters
          </p>
        </div>
        <input
          type="email"
          id="email"
          formControlName="email"
          placeholder="example@gmail.com..."
          class="text-gray-500 text-sm bg-gray-300 p-1 px-2 rounded-xl w-full focus:outline-none focus:shadow-md transition-all hover:shadow-green-200 hover:shadow-sm my-2 focus:placeholder:text-green-600 focus:bg-gray-200"
        />
        <div
          class="text-center"
          *ngIf="
            (registerForm.get('email')?.touched ||
              registerForm.get('email')?.value.length > 0) &&
            registerForm.get('email')?.errors
          "
        >
          <p
            class="alert bg-red-200 text-red-500 rounded-b-full w-1/2 mx-auto font-light text- text-sm"
            *ngIf="registerForm.get('email')?.getError('required')"
          >
            Your email's required
          </p>
          <p
            class="alert bg-red-200 text-red-500 rounded-b-full w-1/2 mx-auto font-light text- text-sm"
            *ngIf="registerForm.get('email')?.getError('email')"
          >
            this email is not valid
          </p>
        </div>
        <input
          type="password"
          id="password"
          formControlName="password"
          placeholder="*******"
          class="text-gray-500 text-sm bg-gray-300 p-1 px-2 rounded-xl w-full focus:outline-none focus:shadow-md transition-all hover:shadow-green-200 hover:shadow-sm my-2 focus:placeholder:text-green-600 focus:bg-gray-200"
        />
        <div
          class="text-center"
          *ngIf="
            (registerForm.get('password')?.touched ||
              registerForm.get('password')?.value.length > 0) &&
            registerForm.get('password')?.errors
          "
        >
          <p
            class="alert bg-red-200 text-red-500 rounded-b-full w-1/2 mx-auto font-light text- text-sm"
            *ngIf="registerForm.get('password')?.getError('required')"
          >
            Your password's required
          </p>
        </div>
        <input
          type="password"
          id="rePassword"
          formControlName="rePassword"
          placeholder="confirm password"
          class="text-gray-500 text-sm bg-gray-300 p-1 px-2 rounded-xl w-full focus:outline-none focus:shadow-md transition-all hover:shadow-green-200 hover:shadow-sm my-2 focus:placeholder:text-green-600 focus:bg-gray-200"
        />
        <div
          class="text-center"
          *ngIf="
            (registerForm.get('rePassword')?.touched ||
              registerForm.get('rePassword')?.value.length > 0) &&
            registerForm.get('rePassword')?.errors
          "
        >
          <p
            class="alert bg-red-200 text-red-500 rounded-b-full w-1/2 mx-auto font-light text- text-sm"
            *ngIf="registerForm.get('rePassword')?.getError('required')"
          >
            Your password's required
          </p>
          <!-- <p class="alert bg-red-200 text-red-500 rounded-b-full w-3/4 mx-auto font-light text-  text-sm ">confirm password must be the same as password</p> -->
        </div>
        <input
          type="tel"
          id="phone"
          formControlName="phone"
          placeholder="phone.."
          class="text-gray-500 text-sm bg-gray-300 p-1 px-2 rounded-xl w-full focus:outline-none focus:shadow-md transition-all hover:shadow-green-200 hover:shadow-sm my-2 focus:placeholder:text-green-600 focus:bg-gray-200"
        />
        <div
          class="text-center"
          *ngIf="
            (registerForm.get('phone')?.touched ||
              registerForm.get('phone')?.value.length > 0) &&
            registerForm.get('phone')?.errors
          "
        >
          <p
            class="alert bg-red-200 text-red-500 rounded-b-full w-3/4 mx-auto font-light text- text-sm"
            *ngIf="registerForm.get('phone')?.getError('required')"
          >
            Your egyption phone number is not valid
          </p>
        </div>
        <div class="flex justify-center">
          <button
            class="bg-green-500 text-white py-2 rounded-xl w-1/3 max-sm:w-3/4 max-md:w-3/4 max-lg:w-3/4 hover:scale-95 focus:outline-none shadow-xl transition-all hover:shadow-green-200 hover:shadow-sm my-3 disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed"
            [disabled]="registerForm.invalid"
          >
            Create Account
            <span *ngIf="isLoading"
              ><i
                class="fa-solid fa-spinner animate-spin text-green-50 ps-1"
              ></i
            ></span>
          </button>
        </div>
        <p
          class="bg-red-200 text-red-500 rounded-full w-1/2 mx-auto font-light text- text-sm text-center py-2 animate-pulse"
          *ngIf="errMsg"
        >
          {{ errMsg }}
        </p>
      </div>
    </div>
  </form>
</section>
